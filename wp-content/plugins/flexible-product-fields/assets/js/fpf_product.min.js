jQuery(document).ready(function(){function a(e){var f=jQuery("input.qty").val(),c=jQuery("#fpf_totals");c.empty();var b=0;jQuery.each(fpf_fields,function(g,l){var j=false;var h=0;if(!l.has_options&&l.has_price&&l.price_value!=0){if(l.type=="text"||l.type=="textarea"){var k=jQuery("#"+l.id).val();if(k!=""){h=l.price_value;j=l.price_display}}if(l.type=="checkbox"){if(jQuery("#"+l.id).is(":checked")){h=l.price_value;j=l.price_display}}}if(l.has_options){jQuery.each(l.options,function(n,m){if(l.type=="select"){var o=jQuery("#"+l.id).val();if(o==m.value){h=m.price_value;j=m.price_display}}if(l.type=="radio"){var o=jQuery("input[name="+l.id+"]:checked").val();if(o==m.value){h=m.price_value;j=m.price_display}}})}if(h>0){h=h*f;j=accounting.formatMoney(h,{symbol:fpf_product.currency_format_symbol,decimal:fpf_product.currency_format_decimal_sep,thousand:fpf_product.currency_format_thousand_sep,precision:fpf_product.currency_format_num_decimals,format:fpf_product.currency_format});c.append("<dt>"+l.title+":</dt>");c.append("<dd>"+j+"</dd>");b+=h}});if(b!=0){var d=(f*fpf_product_price)+b;d=accounting.formatMoney(d,{symbol:fpf_product.currency_format_symbol,decimal:fpf_product.currency_format_decimal_sep,thousand:fpf_product.currency_format_thousand_sep,precision:fpf_product.currency_format_num_decimals,format:fpf_product.currency_format});c.append("<dt>"+fpf_product.total+":</dt>");c.append("<dd>"+d+"</dd>")}}a();jQuery(document).on("change",".fpf-input-field,input.qty",function(){a(this)});jQuery(document).on("keyup",".fpf-input-field,input.qty,.variations select",function(){a(this)});jQuery(document).on("found_variation","form.cart",function(c,b){console.log(b);fpf_product_price=b.display_price;a()})});